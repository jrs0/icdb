- table: "apc"
  docs: "The APC (admitted patient care) contains records from patients who have been admitted into the hospital. The rows in the table correspond to episodes: individual care activities performed by one consultant. Groups of rows are organised into spells, which represent the entirety of the patient's stay in hospital."
  source: "ABI.dbo.vw_APC_SEM_001"
  columns:
    - column: "nhs_number"
      docs: "The NHS number identifies the patient. The field is anonymised."
      source:
        - "AIMTC_Pseudo_NHS"
        - "NHSnumber"
      strategy: "coalesce_exclude_null"
      use: yes
    - column: "episode_start"
      docs: "A datetime field that is the time when the episode began."
      source:
        - "StartDate_ConsultantEpisode"
        - "StartDate1"
        - "StartTime_Episode"
      strategy: "coalesce"
      use: yes
    - column: "episode_end"
      docs: "A datetime field that is the time when the episode finished."
      source:
      - "EndDate_ConsultantEpisode"
      - "EndDate1"
      - "EndTime_Episode"
      strategy: "coalesce"
      use: yes
    - column: "primary_diagnosis"
      docs: "The main diagnosis for this episode? The field is an ICD 10 code."
      source:
        - "DiagnosisPrimary_ICD"
      strategy:
        - "coalesce"
        - "codes_from":
          codes_files: "icd10/"
      use: yes
    - column: "spell_id"
      docs: "The ID field linking episodes that form part of the same spell (a continuous hospital visit). "
      source:
        - "PBRspellID"
      strategy: "coalesce"
      use: yes
    - column: "spell_start"
      docs: "A datetime field that is the time when the associated spell for this episode began."
      source:
        - "AIMTC_ProviderSpell_Start_Date"
        - "StartDate_HospitalProviderSpell"
        - "StartTime_HospitalProviderSpell"
      strategy: "coalesce"
      use: yes
    - column: "spell_end"
      docs: "A datetime field that is the time when the associated spell for this episode ended."
      source:
        - "AIMTC_ProviderSpell_End_Date"
        - "DischargeDate_FromHospitalProviderSpell"
        - "DischargeTime_HospitalProviderSpell"
      related_columns:
        "HospitalProviderSpellDischargeReadyDate"
      strategy: "coalesce"
      use: yes
